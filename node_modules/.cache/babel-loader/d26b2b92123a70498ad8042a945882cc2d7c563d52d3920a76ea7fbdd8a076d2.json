{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abdul.mohammed\\\\Downloads\\\\forTesting\\\\testing-app\\\\src\\\\components\\\\Checkout.jsx\",\n  _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport CartContext from \"./store/CartContext\";\nimport Modal from \"./UI/Modal\";\nimport { currencyFormatter } from \"../util/formatting\";\nimport UserProgressContext from \"./store/UserProgressContext\";\nimport Input from \"./UI/Input\";\nimport Button from \"./UI/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Checkout() {\n  _s();\n  const cartCtx = useContext(CartContext);\n  const userProgressCtx = useContext(UserProgressContext);\n  const cartTotal = cartCtx.items.reduce((totalPrice, item) => totalPrice + item.quantity * item.price, 0);\n  function handleClose() {\n    userProgressCtx.hideCheckout();\n  }\n  function handleSubmission(event) {\n    event.preventDefault();\n    const fd = new FormData(event.target).entries();\n    const customerData = Object.fromEntries(fd);\n    fetch('http://localhost:2023/orders', {\n      method: 'POST',\n      headers: {\n        'content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        order: {\n          items: cartCtx.items,\n          customer: customerData\n        }\n      })\n    }).then(() => {\n      cartCtx.clearCart();\n      userProgressCtx.orderSuccess();\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: userProgressCtx.progress === 'checkout',\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmission,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Amount: \", currencyFormatter.format(cartTotal)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: \"Full Name\",\n        type: \"text\",\n        id: \"name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: \"E-Mail Address\",\n        type: \"email\",\n        id: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: \"Street\",\n        type: \"text\",\n        id: \"street\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-row\",\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          label: \"Postal Code\",\n          type: \"text\",\n          id: \"postal-code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"City\",\n          type: \"text\",\n          id: \"city\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"modal-actions\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          textOnly: true,\n          onClick: handleClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          children: \"Submit Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(Checkout, \"EM5EVrNOUIh8iFwWPFTl8Knm8mo=\");\n_c = Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["useContext","CartContext","Modal","currencyFormatter","UserProgressContext","Input","Button","jsxDEV","_jsxDEV","Checkout","_s","cartCtx","userProgressCtx","cartTotal","items","reduce","totalPrice","item","quantity","price","handleClose","hideCheckout","handleSubmission","event","preventDefault","fd","FormData","target","entries","customerData","Object","fromEntries","fetch","method","headers","body","JSON","stringify","order","customer","then","clearCart","orderSuccess","open","progress","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","format","label","type","id","className","textOnly","onClick","_c","$RefreshReg$"],"sources":["C:/Users/abdul.mohammed/Downloads/forTesting/testing-app/src/components/Checkout.jsx"],"sourcesContent":["import { useContext } from \"react\";\r\nimport CartContext from \"./store/CartContext\";\r\nimport Modal from \"./UI/Modal\";\r\nimport { currencyFormatter } from \"../util/formatting\";\r\nimport UserProgressContext from \"./store/UserProgressContext\";\r\nimport Input from \"./UI/Input\";\r\nimport Button from \"./UI/Button\";\r\n\r\nexport default function Checkout() {\r\n    const cartCtx = useContext(CartContext);\r\n    const userProgressCtx = useContext(UserProgressContext);\r\n\r\n    const cartTotal = cartCtx.items.reduce(\r\n        (totalPrice, item) => totalPrice + item.quantity * item.price,\r\n        0\r\n    );\r\n\r\n    function handleClose(){\r\n        userProgressCtx.hideCheckout();\r\n    }\r\n    \r\n    function handleSubmission(event) {\r\n    event.preventDefault();\r\n    const fd = new FormData(event.target).entries();\r\n    const customerData = Object.fromEntries(fd);\r\n\r\n    fetch('http://localhost:2023/orders', {\r\n        method: 'POST',\r\n        headers: {\r\n            'content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            order: {\r\n                items: cartCtx.items,\r\n                customer: customerData\r\n            }\r\n        })\r\n    }).then(() => {\r\n       \r\n        cartCtx.clearCart();\r\n        userProgressCtx.orderSuccess();\r\n    });\r\n}\r\n\r\n      \r\n\r\n    return(\r\n    <Modal open={userProgressCtx.progress === 'checkout'}> \r\n        <form onSubmit={handleSubmission}>\r\n          <h2>Checkout</h2>\r\n          <p>Total Amount: {currencyFormatter.format(cartTotal)}</p>\r\n\r\n            <Input label=\"Full Name\" type=\"text\" id=\"name\" />\r\n                <Input label=\"E-Mail Address\" type=\"email\" id=\"email\" />\r\n                <Input label=\"Street\" type=\"text\" id=\"street\" />\r\n            <div className=\"control-row\">\r\n                <Input label=\"Postal Code\" type=\"text\" id=\"postal-code\" />\r\n                <Input label=\"City\" type =\"text\" id=\"city\" />\r\n            </div>\r\n            <p className=\"modal-actions\">\r\n                <Button type=\"button\" textOnly onClick={handleClose}>Close</Button>\r\n                <Button>Submit Order</Button>\r\n            </p>\r\n        </form>\r\n    </Modal>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}