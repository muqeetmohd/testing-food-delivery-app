{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abdul.mohammed\\\\Downloads\\\\forTesting\\\\testing-app\\\\src\\\\components\\\\store\\\\CartContext.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext({\n  items: [],\n  addItem: item => {},\n  removeItem: id => {},\n  clearCart: () => {}\n});\nfunction cartReducer(state, action) {\n  if (action.type === \"ADD_ITEM\") {\n    const existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id);\n    const updatedItems = [...state.items]; //check usage\n    // const updatedItems = state.items;\n\n    if (existingCartItemIndex > -1) {\n      const existingItem = state.items[existingCartItemIndex];\n      const updatedItem = {\n        ...existingItem,\n        quantity: existingItem.quantity + 1\n      };\n      updatedItems[existingCartItemIndex] = updatedItem;\n    } else {\n      updatedItems.push({\n        ...action.item,\n        quantity: 1\n      });\n    }\n    return {\n      ...state,\n      items: updatedItems\n    };\n  }\n  if (action.type === 'REMOVE_ITEM') {\n    const existingCartItemIndex = state.items.findIndex(item => item.id === action.id);\n    const updatedItems = [...state.items];\n    const existingItem = state.items[existingCartItemIndex];\n    if (existingItem.quantity === 1) {\n      updatedItems.splice(existingCartItemIndex, 1);\n    } else {\n      const updatedItem = {\n        ...existingItem,\n        quantity: existingItem.quantity - 1\n      };\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n    return {\n      ...state,\n      items: updatedItems\n    };\n  }\n  if (action.type === 'CLEAR_CART') {\n    return {\n      items: []\n    }; // reset the cart\n  }\n  return state;\n}\nexport function CartContextProvider({\n  children\n}) {\n  _s();\n  const [cart, dispatchCartAction] = useReducer(cartReducer, {\n    items: []\n  });\n  function addItem(item) {\n    dispatchCartAction({\n      type: 'ADD_ITEM',\n      item\n    });\n  }\n  function removeItem(id) {\n    dispatchCartAction({\n      type: 'REMOVE_ITEM',\n      id\n    });\n  }\n  function clearCart() {\n    dispatchCartAction({\n      type: 'CLEAR_CART'\n    });\n  }\n  const cartContext = {\n    items: cart.items,\n    addItem,\n    removeItem,\n    clearCart\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: cartContext,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 12\n  }, this);\n}\n_s(CartContextProvider, \"volnzv9bms4QxtyTitSlJB644YU=\");\n_c = CartContextProvider;\nexport default CartContext;\nvar _c;\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["createContext","useReducer","jsxDEV","_jsxDEV","CartContext","items","addItem","item","removeItem","id","clearCart","cartReducer","state","action","type","existingCartItemIndex","findIndex","updatedItems","existingItem","updatedItem","quantity","push","splice","CartContextProvider","children","_s","cart","dispatchCartAction","cartContext","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/abdul.mohammed/Downloads/forTesting/testing-app/src/components/store/CartContext.jsx"],"sourcesContent":["import { createContext, useReducer } from \"react\";\r\n\r\nconst CartContext = createContext({\r\n    items : [],\r\n    addItem: (item) => {},\r\n    removeItem: (id) => {},\r\n    clearCart: () => {},\r\n});\r\n\r\nfunction cartReducer(state,action) {\r\n    if(action.type === \"ADD_ITEM\") {\r\n        const existingCartItemIndex = state.items.findIndex((item) => item.id === action.item.id);\r\n\r\n        const updatedItems = [...state.items]; //check usage\r\n        // const updatedItems = state.items;\r\n\r\n\r\n        if(existingCartItemIndex > -1) {\r\n            const existingItem = state.items[existingCartItemIndex];\r\n            const updatedItem = {\r\n                ...existingItem,\r\n                quantity:existingItem.quantity + 1,\r\n            };\r\n            updatedItems[existingCartItemIndex] = updatedItem;\r\n        } else {\r\n            updatedItems.push({...action.item, quantity:1})\r\n        }\r\n\r\n        return {...state, items:updatedItems};\r\n    }\r\n\r\n    if(action.type === 'REMOVE_ITEM') {\r\n        const existingCartItemIndex = state.items.findIndex((item) => item.id === action.id);\r\n        const updatedItems = [...state.items];\r\n\r\n        const existingItem = state.items[existingCartItemIndex];\r\n\r\n        if(existingItem.quantity === 1) {\r\n            updatedItems.splice(existingCartItemIndex,1);\r\n        } else {\r\n            const updatedItem = {\r\n                ...existingItem,\r\n                quantity:existingItem.quantity - 1,\r\n            };\r\n            updatedItems[existingCartItemIndex] = updatedItem;\r\n        }\r\n        return {...state, items:updatedItems};\r\n    }\r\n\r\n\r\n    if (action.type === 'CLEAR_CART') {\r\n        return { items: [] }; // reset the cart\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport function CartContextProvider({children}) {\r\n    const [cart, dispatchCartAction] = useReducer(cartReducer, {items:[]});\r\n\r\n    \r\n    function addItem(item) {\r\n        dispatchCartAction({type : 'ADD_ITEM', item});\r\n    }\r\n    \r\n    function removeItem(id) {\r\n        dispatchCartAction({type: 'REMOVE_ITEM', id});\r\n    }\r\n\r\n    function clearCart() {\r\n        dispatchCartAction({ type: 'CLEAR_CART' });\r\n    }\r\n    \r\n    const cartContext = {\r\n        items: cart.items,\r\n        addItem,\r\n        removeItem,\r\n        clearCart\r\n    };\r\n\r\n    return <CartContext.Provider value = {cartContext}>\r\n        {children}\r\n        </CartContext.Provider>\r\n}\r\n\r\nexport default CartContext;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}